{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Spinner/Spinner.module.css","components/ImageGallery/ImageGallery.module.css","components/ErrorNotification/ErrorNotification.module.css","components/Spinner/Spinner.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ErrorNotification/ErrorNotification.js","services/pixabayApi.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Spinner","className","styles","spinner","type","color","height","width","Searchbar","state","query","handleChange","e","setState","target","value","hendleSubmit","preventDefault","props","onSubmit","SearchForm","this","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","images","largeImage","map","id","previewURL","tags","largeImageURL","key","onClick","src","alt","ImageGalleryItemImage","defaultProps","ErrorNotification","container","errorBox","dot","two","face2","eye","right","sad","move","message","alert","subtitle","searchQuery","page","axios","get","then","response","data","hits","Button","fetchImages","wrapper","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","Overlay","App","loading","error","largeImageUrl","pixabayApi","prevState","catch","finally","handleSearchFormSubmit","setLargeImage","url","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.37868c2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Button_wrapper__37o5G\",\"Button\":\"Button_Button__nYk8j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1U-Q4\",\"Modal\":\"Modal_Modal__7sNLV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__2fWIu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__155tG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ErrorNotification_container__1LKfa\",\"title\":\"ErrorNotification_title__1AQsI\",\"green\":\"ErrorNotification_green__23f98\",\"red\":\"ErrorNotification_red__2FiWj\",\"alert\":\"ErrorNotification_alert__2OYcF ErrorNotification_title__1AQsI\",\"subtitle\":\"ErrorNotification_subtitle__1Xxaa\",\"dot\":\"ErrorNotification_dot__2twrf\",\"errorBox\":\"ErrorNotification_errorBox__1ruLu\",\"two\":\"ErrorNotification_two__2GNqO ErrorNotification_dot__2twrf\",\"face\":\"ErrorNotification_face__p4AcW\",\"bounce\":\"ErrorNotification_bounce__3CL4A\",\"face2\":\"ErrorNotification_face2__39bF1\",\"roll\":\"ErrorNotification_roll__2Wj2C\",\"eye\":\"ErrorNotification_eye__3DDVo\",\"right\":\"ErrorNotification_right__2WXqg ErrorNotification_eye__3DDVo\",\"mouth\":\"ErrorNotification_mouth__2EJrG\",\"sad\":\"ErrorNotification_sad__1CT9t ErrorNotification_mouth__2EJrG\",\"shadow\":\"ErrorNotification_shadow__1OBuh\",\"scale\":\"ErrorNotification_scale__2Zp2Q\",\"move\":\"ErrorNotification_move__3SXyM ErrorNotification_shadow__1OBuh\",\"message\":\"ErrorNotification_message__3RAUA\",\"buttonBox\":\"ErrorNotification_buttonBox__1Plmx\"};","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Spinner.module.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={styles.spinner}>\r\n      <Loader type=\"ThreeDots\" color=\"#3F51B5\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  hendleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.hendleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={styles.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ images, largeImage }) => {\r\n  return images.map(({ id, previewURL, tags, largeImageURL }) => (\r\n    <li\r\n      key={id}\r\n      className={styles.ImageGalleryItem}\r\n      onClick={() => largeImage(largeImageURL, tags)}\r\n    >\r\n      <img\r\n        src={previewURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  ));\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  previewURL:\r\n    'https://blog.rahulbhutani.com/wp-content/uploads/2020/05/Screenshot-2018-12-16-at-21.06.29.png',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      previewURL: PropTypes.string,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport styles from './ErrorNotification.module.css';\r\n\r\nconst ErrorNotification = () => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.errorBox}>\r\n        <div className={styles.dot}></div>\r\n        <div className={styles.two}></div>\r\n        <div className={styles.face2}>\r\n          <div className={styles.eye}></div>\r\n          <div className={styles.right}></div>\r\n          <div className={styles.sad}></div>\r\n        </div>\r\n        <div className={styles.move}></div>\r\n        <div className={styles.message}>\r\n          <p className={styles.alert}>Error!</p>\r\n          <p className={styles.subtitle}>Oh no, something went wrong.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorNotification;\r\n","import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (searchQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?key=17157037-52a084c0f09be4b43a01edb5f&q=${searchQuery}&image_type=photo&page=${page}&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <button type=\"button\" className={styles.Button} onClick={fetchImages}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose(null, null);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Spinner from './Spinner/Spinner';\r\nimport Searchbar from './Searchbar/Searchbar';\r\nimport ImageGallery from './ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\r\nimport pixabayApi from '../services/pixabayApi';\r\nimport Button from './Button/Button';\r\nimport Modal from './Modal/Modal';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: '',\r\n    page: 1,\r\n    largeImageUrl: null,\r\n    tags: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.fetchImages();\r\n    }\r\n\r\n    if (\r\n      this.state.page > 2 &&\r\n      prevProps.page !== prevState.page &&\r\n      this.state.largeImageUrl === null\r\n    ) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    pixabayApi\r\n      .fetchImagesWithQuery(searchQuery, page)\r\n      .then(images =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  handleSearchFormSubmit = query => {\r\n    this.setState({ searchQuery: query, page: 1, images: [] });\r\n  };\r\n\r\n  setLargeImage = (url, tags) => {\r\n    this.setState({ largeImageUrl: url, tags: tags });\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, error, largeImageUrl, tags } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSearchFormSubmit} />\r\n\r\n        {error && <ErrorNotification />}\r\n\r\n        {images.length > 0 && (\r\n          <ImageGallery>\r\n            <ImageGalleryItem\r\n              images={this.state.images}\r\n              largeImage={this.setLargeImage}\r\n            />\r\n          </ImageGallery>\r\n        )}\r\n\r\n        {loading && <Spinner />}\r\n\r\n        {images.length > 0 && !loading && (\r\n          <Button fetchImages={this.fetchImages} />\r\n        )}\r\n\r\n        {largeImageUrl && (\r\n          <Modal onClose={this.setLargeImage}>\r\n            <img src={largeImageUrl} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './components/base.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__38Jeh\",\"SearchForm\":\"Searchbar_SearchForm__35bud\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2bDF8\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__T6iDc\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3s_Fi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1bXfY\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2Ervr\"};"],"sourceRoot":""}